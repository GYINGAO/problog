(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{602:function(s,a,t){"use strict";t.r(a);var e=t(2),n=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"简介"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#简介"}},[s._v("#")]),s._v(" 简介")]),s._v(" "),t("p",[s._v("nginx是一款高性能的HTTP反向代理服务器。")]),s._v(" "),t("p",[t("strong",[s._v("优点")])]),s._v(" "),t("ul",[t("li",[s._v("支持高并发连接")]),s._v(" "),t("li",[s._v("配置文件简洁")]),s._v(" "),t("li",[s._v("占用内存少")]),s._v(" "),t("li",[s._v("内部有健康检查功能")]),s._v(" "),t("li",[s._v("支持Rewrite重写：可根据不同的域名、URL将请求转发至后端不同的服务群")]),s._v(" "),t("li",[s._v("支持热部署")]),s._v(" "),t("li",[s._v("稳定性高")])]),s._v(" "),t("p",[t("strong",[s._v("主要功能")])]),s._v(" "),t("ul",[t("li",[s._v("正向代理")])]),s._v(" "),t("p",[s._v("nginx可以做正向代理进行上网等功能。加入将局域网外的网络想象成是一个大的资源库，如果想要访问局域网外的资源库，则需要通过代理服务器来访问外部资源。")]),s._v(" "),t("ul",[t("li",[s._v("反向代理")])]),s._v(" "),t("p",[s._v("反向代理，其实客户端对反向代理服务器是无感的，客户端访问反向代理服务器，反向代理服务器再将请求转发至目标服务器，只需要暴露代理服务器的地址即可，隐藏了真实的服务器地址。")]),s._v(" "),t("ul",[t("li",[s._v("负载均衡")])]),s._v(" "),t("p",[s._v("对于多个请求，nginx将请求分发至不同的服务器上，从而来减轻服务器压力。")]),s._v(" "),t("ul",[t("li",[s._v("动静分离")])]),s._v(" "),t("p",[s._v("为了加快网站的解析速度，可以把动态资源（jsp、servlet）和静态资源（js、HTML等）由不同的服务器来解析，加快解析速度。降低原来单个服务器的压力。")]),s._v(" "),t("h2",{attrs:{id:"安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[s._v("#")]),s._v(" 安装")]),s._v(" "),t("h3",{attrs:{id:"_1-安装依赖包"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-安装依赖包"}},[s._v("#")]),s._v(" 1 安装依赖包")]),s._v(" "),t("p",[s._v("安装 Nginx 需要先将官网下载的源码进行编译，编译依赖 "),t("code",[s._v("gcc")]),s._v(" 环境")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("yum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" gcc-c++\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("Nginx 的 "),t("code",[s._v("Rewrite")]),s._v(" 模块和 "),t("code",[s._v("HTTP")]),s._v(" 核心模块会使用到PCRE正则表达式语法。这里需要安装两个安装包 "),t("code",[s._v("pcre")]),s._v(" 和 "),t("code",[s._v("pcre-devel")]),s._v("。第一个安装包提供编译版本的库，而第二个提供开发阶段的头文件和编译项目的源代码")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("yum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y pcre pcre-devel\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("code",[s._v("zlib")]),s._v(" 库提供了开发人员的压缩算法，在Nginx的各种模块中需要使用 "),t("code",[s._v("gzip")]),s._v(" 压缩")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("yum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y zlib zlib-devel\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("nginx不仅支持 "),t("code",[s._v("http")]),s._v(" 协议，还支持 "),t("code",[s._v("https")]),s._v("（即在 "),t("code",[s._v("ssl")]),s._v(" 协议上传输 "),t("code",[s._v("http")]),s._v("），如果使用了 "),t("code",[s._v("https")]),s._v("，需要安装 "),t("code",[s._v("OpenSSL")]),s._v(" 库")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("yum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y openssl openssl-devel\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"_2-下载并解压安装包"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-下载并解压安装包"}},[s._v("#")]),s._v(" 2 下载并解压安装包")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /usr/local "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 下载tar包")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" http://nginx.org/download/nginx-1.20.1.tar.gz\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -zxvf nginx-1.20.1.tar.gz "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 解压")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h3",{attrs:{id:"_3-使用默认配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-使用默认配置"}},[s._v("#")]),s._v(" 3 使用默认配置")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" nginx-1.20.1 "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入解压目录")]),s._v("\n./configure\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"title"},[s._v("额外说明")]),t("p",[s._v("如果需要开始 "),t("code",[s._v("https")]),s._v(" 支持，这里请不要直接执行 "),t("code",[s._v("./configure")]),s._v(" ，即不要直接执行该脚本，而是在该脚本后面加上SSL模块，请执行 "),t("code",[s._v("./configure --with-http_ssl_module")])])]),t("h3",{attrs:{id:"_4-编译安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-编译安装"}},[s._v("#")]),s._v(" 4 编译安装")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h3",{attrs:{id:"_5-相关操作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-相关操作"}},[s._v("#")]),s._v(" 5 相关操作")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入Nginx安装目录")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /usr/local/nginx/sbin \n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动Nginx")]),s._v("\n./nginx \n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 关闭Nginx")]),s._v("\n./nginx -s quit  或者 ./nginx -s stop\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重启Nginx")]),s._v("\n./nginx -s reload\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看nginx进程")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" aux"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" nginx\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br")])]),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"title"}),t("p",[s._v("设置nginx开机启动，只需在 "),t("code",[s._v("/etc/rc.local")]),s._v(" 底部增加 "),t("code",[s._v("/usr/local/nginx/sbin/nginx")]),s._v(" 即可")])]),t("h3",{attrs:{id:"_6-防火墙"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-防火墙"}},[s._v("#")]),s._v(" 6 防火墙")]),s._v(" "),t("ul",[t("li",[s._v("启动 "),t("code",[s._v("systemctl start firewalld")])]),s._v(" "),t("li",[s._v("查看状态 "),t("code",[s._v("systemctl status firewalld")])]),s._v(" "),t("li",[s._v("关闭 "),t("code",[s._v("systemctl stop firewalld")])]),s._v(" "),t("li",[s._v("禁用 "),t("code",[s._v("systemctl disable firewalld")])]),s._v(" "),t("li",[s._v("重启 "),t("code",[s._v("systemctl restart firewalld.service")])]),s._v(" "),t("li",[s._v("添加端口 "),t("code",[s._v("firewall-cmd --zone=public --add-port=80/tcp --permanent")])]),s._v(" "),t("li",[s._v("重新载入 "),t("code",[s._v("firewall-cmd --reload")])]),s._v(" "),t("li",[s._v("查看所有打开的端口 "),t("code",[s._v("firewall-cmd --zone=public --list-ports")])])])])}),[],!1,null,null,null);a.default=n.exports}}]);